<div data-ng-controller="ClientPanierController">


    <div ng-show="divPanier" ng-init="initFunction()">
        <b style="margin-left: 1em">Panier</b>
        <div class="btn-group" style="margin-top: 1em; margin-bottom: 1em; margin-left: 1em">
            <button type="button" class="btn btn-default glyphicon glyphicon-plus-sign" data-ng-click="addParagraph()"> Ajouter Paragraphe</button>
        </div>

        <div class="table-responsive table-border">

            <table class="table">
                <thead style="background-color: #080808; color: #f8f8f8;">
                <tr>
                    <th>Activite</th>
                    <th>Code</th>
                    <th>Designation</th>
                    <th>Qte. totale</th>
                    <th>Qte. compl.</th>
                    <th>Qte. rempl.</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>
                <tbody data-ng-show="actualPanierList.length>0">
                <tr data-ng-repeat="actualPanier in actualPanierList track by $index">

                        <tr style="background-color: #D3D3D3">
                            <td colspan="6">
                                <b>{{actualPanier.Site_name}} <div ng-if="actualPanier.SubSite_name!=''">/{{actualPanier.SubSite_name}}</div></b>
                            </td>
                            <td>
                                <a title="Delete" ng-click="deleteQuote()" class="glyphicon glyphicon-remove-circle"></a>
                            </td>
                            <td>
                                <a title="ajouter remplacements" ng-click="ajouterRecycle(actualPanier)" class="glyphicon glyphicon-plus-sign"></a>
                            </td>
                            <td>
                                <a title="ajouter du catalogue" ng-click="addCatalogue(actualPanier)" class="glyphicon glyphicon-plus-sign"></a>
                            </td>
                        </tr>
                        <tr style="background-color: #D3D3D3">
                            <td colspan="9">
                                <b>{{actualPanier.Description}}</b>
                            </td>
                        </tr>
                        <tr data-ng-repeat="catalogueSelectedItem in actualPanier.catalogueList">
                                <td>DFF001</td>
                                <td>{{catalogueSelectedItem.catalogue.usual_code}}</td>
                                <td>{{catalogueSelectedItem.catalogue.description_1}}</td>
                                <td>{{catalogueSelectedItem.qteTotal}}</td>
                                <td>{{catalogueSelectedItem.qteCompl}}</td>
                                <td>{{catalogueSelectedItem.qteRecy}}</td>

                                <td><a title="Edit" ng-click="editQuoteCatalogue(catalogueSelectedItem)" class="glyphicon glyphicon-pencil"></a></td>
                                <td><a title="Component catalogue" ng-click="showAllComponentItems()" class="glyphicon glyphicon-tags"></a></td>
                                <td><a title="Delete" ng-click="deleteQuoteCatalogue()" class="glyphicon glyphicon-remove-circle"></a></td>
                        </tr>
                        <!--<tr style="background-color: #D3D3D3">
                            <td colspan="9" ng-if="actualPanier.Description!='null'"> </td>
                        </tr>-->
                </tr>
                </tbody>
            </table>
        </div>

    </div>

    <div ng-show="divAddParagraph">
        <div class="btn-group" style=" margin-bottom: 1em; margin-left: 1em">
            <h3>Ajouter un paragraphe au panier</h3>
        </div>

        <form role="form" id="addParagraphFormId" name="addParagraphForm">
            <div class="row margin-top-left-1">
                <div class="btn-toolbar">

                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Nom du site *</label>
                        <div class="btn-group">

                            <button class="btn btn-default" id="siteId">Nom du site</button>
                            <button data-toggle="dropdown" class="btn btn-default dropdown-toggle"><span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li data-ng-repeat="site in clientSites">
                                    <a data-ng-click="fetchSubSites(site)" value="{{site.id}}">{{site.MLNM}}</a>
                                </li>
                            </ul>
                        </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Nom du sous-site</label>
                        <div class="btn-group">
                            <button class="btn btn-default" id="subSiteId">Nom du sous-site</button>
                            <button data-toggle="dropdown" class="btn btn-default dropdown-toggle"><span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li data-ng-repeat="subSite in fetchedSubSiteList">
                                    <a data-ng-click="subSiteSelected(subSite)" value="{{subSite.id}}">{{subSite.MLNM}}</a>
                                </li>
                            </ul>
                        </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                                <label>Commentaire de la section</label>
                                <textarea class="form-control" rows="2" ng-model="paragraphDescription" placeholder="Description section"></textarea>
                        </div>
                    </div>

                    <button class=" btn btn-default" ng-click="cancelParagraph()" style="margin-top: 2em">annuler</button>
                    <button ng-click="registerParagraph()" class="btn btn-default" style="margin-top: 2em">enregister</button>

                </div>
            </div>
        </form>
    </div>
    <div ng-show="catalogueIncludeDiv">
        <p ng-include="quoteCatalogueBodyURL"></p>
    </div>

    <div ng-show="recycleCatIncludeDiv">
        <p ng-include="quoteRecycleCatalogueBodyURL"></p>
    </div>

    <div ng-show="editCatIncludeDiv">
        <p ng-include="quoteEditCatalogueBodyURL"></p>
    </div>

</div>